<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">

<head>
  <meta charset="utf-8" />
  <title>Registrar Proyecto</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 text-gray-800">

  <div class="max-w-md mx-auto mt-10 bg-white p-8 rounded-lg shadow-md">
    <h1 class="text-2xl font-bold mb-6 text-center">Registrar Proyecto</h1>

    <form id="formProyecto" action="#" th:action="@{/scrum/proyectos/addFrom}" th:object="${proyecto}" method="post" class="space-y-6">

      <!-- Campo Nombre -->
      <div>
        <label for="nombre" class="block mb-1 font-medium">Proyecto</label>
        <input type="text" id="nombre" th:field="*{nombre}" placeholder="Nombre"
          class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" />
        <span class="text-sm text-red-600" th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}"></span>
		<span id="errorNombre" class="text-sm text-red-600 hidden">Campo obligatorio</span>
      </div>

      <!-- Checkbox deshabilitado -->
      <div class="flex items-center space-x-2">
        <input type="checkbox" id="estaActivo" th:field="*{estaActivo}" disabled
          class="h-5 w-5 text-blue-600 border-gray-300 rounded cursor-not-allowed" />
        <label for="estaActivo" class="font-medium text-gray-700 cursor-not-allowed">Proyecto Activo</label>
        <span class="text-sm text-red-600" th:if="${#fields.hasErrors('estaActivo')}" th:errors="*{estaActivo}"></span>
      </div>

      <!-- Botones -->
      <div class="flex flex-col sm:flex-row sm:justify-between gap-3">
        <input type="submit" value="Registrar"
          class="bg-green-600 text-white px-4 py-2 rounded hover:bg-blue-700 cursor-pointer w-full sm:w-auto" />
        <a href="index"
          class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 text-center w-full sm:w-auto block">Cancelar</a>
      </div>

    </form>
  </div>
  
  <script>
    document.getElementById("formProyecto").addEventListener("submit", function (event) {
      const nombreInput = document.getElementById("nombre");
      const errorSpan = document.getElementById("errorNombre");

      if (nombreInput.value.trim() === "") {
        event.preventDefault(); // Evita el env√≠o
        nombreInput.classList.add("border-red-500");
        errorSpan.classList.remove("hidden");
      } else {
        nombreInput.classList.remove("border-red-500");
        errorSpan.classList.add("hidden");
      }
    });
  </script>

</body>

</html>
