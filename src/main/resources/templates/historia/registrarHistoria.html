<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">

<head>
  <meta charset="utf-8">
  <title>Registrar historia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 text-gray-800">

  <div class="max-w-3xl mx-auto p-6 bg-white shadow-md rounded-lg mt-8">
    <h1 class="text-2xl font-bold mb-6 text-center">Registro de Nueva Historia</h1>

    <form action="#" th:action="@{/scrum/historias/registrar}" th:object="${historia}" method="post" class="space-y-5">

      <div>
        <label for="id" class="block font-medium">Id</label>
        <input type="text" Integer="id" th:field="*{id}" placeholder="Id de la Historia"
          class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" />
        <span class="text-sm text-red-600" th:errors="*{id}"></span>
      </div>

      <div>
        <label for="name" class="block font-medium">Nombre</label>
        <input type="text" id="name" th:field="*{nombre}" placeholder="Nombre"
          class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" />
        <span class="text-sm text-red-600" th:errors="*{nombre}"></span>
      </div>

      <div>
        <label for="descripcion" class="block font-medium">Descripción</label>
        <input type="text" id="descripcion" th:field="*{descripcion}" placeholder="Descripción de la Historia"
          class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" />
        <span class="text-sm text-red-600" th:errors="*{descripcion}" th:if="${#fields.hasErrors('descripcion')}"></span>
      </div>

      <div>
        <label for="peso" class="block font-medium">Peso</label>
        <select id="peso" th:field="*{peso}"
          class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
          <option th:value="'2'" th:text="2"></option>
          <option th:value="'4'" th:text="4"></option>
          <option th:value="'6'" th:text="6"></option>
          <option th:value="'8'" th:text="8"></option>
        </select>
        <span class="text-sm text-red-600" th:errors="*{peso}"></span>
      </div>

      <div>
        <label for="usuario" class="block font-medium">Usuario</label>
        <input type="text" id="usuario" th:field="*{usuario}"
          class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" />
      </div>

      <div th:switch="${proyectos}">
        <h2 class="text-red-600 font-semibold" th:case="null">Debe registrar Proyectos</h2>

        <div th:case="*">
          <label for="proyecto" class="block font-medium">Proyecto</label>
          <select id="proyecto" th:field="*{project.id}"
            class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
            <option th:each="proyecto : ${proyectos}" th:value="${proyecto.id}" th:text="${proyecto.nombre}"></option>
          </select>
        </div>

        <span class="text-sm text-red-600" th:errors="*{project}"></span>
      </div>

      <div>
        <label for="estatus" class="block font-medium">Estado del Proyecto</label>
        <select id="estatus" th:field="*{estado}"
          class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
          <option th:value="'1'">POR HACER</option>
          <option th:value="'2'">EN PROCESO</option>
          <option th:value="'3'">HECHO</option>
        </select>
        <span class="text-sm text-red-600" th:errors="*{estado}" th:if="${#fields.hasErrors('estado')}"></span>
      </div>

      <div class="flex justify-between">
        <input type="submit" value="Registrar"
          class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 cursor-pointer">
        <a href="index" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">Cancelar</a>
      </div>

    </form>
  </div>

</body>

</html>
